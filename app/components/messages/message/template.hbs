<div class="{{if @message.isNew "opacity-50"}} flex items-start px-6 py-2 text-sm hover-target hover:bg-grey-lightest message" data-test-message="index" role="listitem">
  <figure class="w-10 h-10 rounded overflow-hidden mr-3">
    <img src={{@message.sender.avatarSrc}} alt="Avatar" data-test-message="user-avatar">
  </figure>

  <div class="flex-1">
    <h5 class="text-sm">
      <a href="#" class="text-black font-bold no-underline hover:underline" data-test-message="user-name">
        {{@message.sender.fullname}}
      </a>
      <span class="sr-only">at</span>
      <time class="text-grey-darker text-xs font-normal" data-test-message="timestamp">
        {{format-date @message.timestamp outputFormat="dd/MM/yyyy, HH:mm:ss"}}
      </time>
    </h5>

    <p class="message__body text-black leading-normal" data-test-message="body">
      {{@message.messageBody}}
    </p>
  </div>

  {{#if (eq @message.sender.id @loggedUser.id)}}
    <button
      {{on "click" (perform this.deleteMessageTask)}}
      type="button"
      class="border-2 border-transparent hover:border-red rounded mb-1 px-2 py-1"
      data-test-message="delete"
      aria-label="delete message">
      ğŸ—‘
    </button>
  {{/if}}
</div>